<div class="well">
	<h4>{{#str}}competencies_title, report_coursecompetencies{{/str}}</h4>
	{{#competencies}}
		<p>{{idnumber}}. {{{description}}}</p>
	{{/competencies}}
</div>

{{{img_toggledescription}}}

<div class="reportparent" data-region="course-competencies-report">
	<span class="grade-pending">{{#str}}grade_pending_legend, report_coursecompetencies{{/str}}</span>
	<table class="table table-bordered">
		<summary class="accesshide">
			<p>{{#str}}tablesummary, report_coursecompetencies{{/str}}</p>
		</summary>
		<thead>
			<tr>
				<th scope="col">{{#str}}student, report_coursecompetencies{{/str}}</th>
				{{#competencies}}
				<th scope="col">
					<div id="fnref:{{idnumber}}" class="competency-idnumber" >
						<a href="#fn:{{idnumber}}" data-id="{{id}}">{{idnumber}}</a>
					</div>
				</th>
				{{/competencies}}
			</tr>
		</thead>
		<tbody>
		{{#users}}
			<tr>
				<th scope="row">
					{{{picture}}}
					<a
						href="{{{profileurl}}}"
						{{#gradependingsymbol}}class="grade-pending"{{/gradependingsymbol}}
					>{{{fullname}}}{{gradependingsymbol}}</a>
				</th>
				{{#competencies}}
				<td class="alert {{#grade}}alert-{{#proficiency}}success{{/proficiency}}{{^proficiency}}error{{/proficiency}}{{/grade}}">
					<a
						href="#"
						title="{{#str}}usercompetencysummary, report_competency{{/str}}"
						data-user-competency="true"
						data-userid="{{userid}}"
						data-competencyid="{{competencyid}}"
						data-courseid="{{courseid}}"
					>
						{{#grade}}{{gradename}}{{/grade}}
						{{^grade}}{{#str}}notrated, report_competency{{/str}}{{/grade}}
					</a>
				{{/competencies}}
			</tr>
		{{/users}}
		</tbody>
	</table>
</div>

<!-- comps -->
<div class="footnotes">
	<ol>
		{{#competencies}}
	<li class="footnote" id="fn:{{idnumber}}">
		<p data-id="{{id}}">
			<b>{{#str}}competency, report_competency{{/str}}:</b><br>
		{{idnumber}}. {{description}}
	  <p>
	</li>
	{{/competencies}}
	</ol>
</div>

{{#js}}
require(['tool_lp/competencydialogue'], function(Compdialogue) {
	Compdialogue.init();
});
require(['report_competency/grading_popup'], function(Popup) {
	var gradingPopup = new Popup('[data-region=course-competencies-report]', '[data-user-competency=true]');
	gradingPopup._refresh = function() {
		return;
	}
});
{{/js}}
